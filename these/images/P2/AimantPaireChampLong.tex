\documentclass[11pt, a4paper, french]{thloria}
\input{../../Packages_Gael}

%%% Pour n'avoir que l'image tikz ! ! !
\usepackage[active,tightpage]{preview}\PreviewEnvironment{tikzpicture} 

\usepackage[np,autolanguage]{numprint}
\begin{document}
\pagestyle{empty}
\input{../../New_Commande_Gael}

\begin{tikzpicture}[scale=2]


\tkzInit[xmin=-1.5,xmax=1.3,ymin=-0.8,ymax=0.55]
%\useasboundingbox (-4,-3) rectangle (4,3);

\tkzY[noticks, label=$y$]%, lw=1.2pt

\def\aa{1.2}
\def\offsetfleche{0.4}

\def\opac{1}
\def\lFlech{0.007}
	\foreach \fnn/\fle in {1/0.155,2/0.98,3/1.995,4/2.999,5/4,6/4.975}{
	\foreach \fn in {1,...,4}{
        \draw[scale=1, color=red, opacity=\opac] plot file{ChampMiroir/ChampMiroir\fn\fnn.txt};
	}	
	\draw[-latex', color=red, opacity=\opac]
	( .2,.1*\fle)++(-\lFlech/2, \lFlech/2)--+( \lFlech,-\lFlech*\fle/\fnn);
	\draw[-latex', color=red, opacity=\opac]
	(-.2,.1*\fle)++( \lFlech/2, \lFlech/2)--+(-\lFlech,-\lFlech*\fle/\fnn);
	( .2,-.1*\fle)++(-\lFlech/2,-\lFlech/2)--+( \lFlech, \lFlech*\fle/\fnn);
	\draw[-latex', color=red, opacity=\opac]
	(-.2,-.1*\fle)++( \lFlech/2,-\lFlech/2)--+(-\lFlech, \lFlech*\fle/\fnn);
	}
	
	\draw[fill= gray!50] (-0.07,0.8) rectangle (0.07,0.9);
	\draw[-latex'] (0.0,0.9) -- +(0.0,-0.1);
	\draw[-latex'] (-0.04,0.9) -- +(0.0,-0.1);
	\draw[-latex'] (0.04,0.9) -- +(0.0,-0.1);
	\node[left=0.1cm] at (0,0.85) {aimant};
	
	\draw[fill= gray!50] (-0.07,-0.8) rectangle (0.07,-0.9);
	\draw[-latex'] (0.0,-0.9) -- +(0.0,0.1);
	\draw[-latex'] (-0.04,-0.9) -- +(0.0,0.1);
	\draw[-latex'] (0.04,-0.9) -- +(0.0,0.1);
	\node[left=0.1cm] at (0,-0.85) {aimant};
	
	\draw[fill= black, opacity=0.3] (-1.5,-0.35) rectangle (1.5,-0.45);
	\draw[-latex', thick] (-1.2,0.4) -- +(0.6,0) 
	node[left,pos=0]{\tiny $I$}
	;
	\draw[fill= black, opacity=0.3] (-1.5,0.35) rectangle (1.5,0.45);
	\draw[-latex', thick] (-.6,-0.4) -- +(-0.6,0) 
	node[left,pos=1]{\tiny $I$}
	;
	\node[below] at (-1.1,-0.8) {guide};
	\draw[] (-1.1,-0.85) -- (-1,-0.4);
	\draw[] (-1.1,-0.85) -- (-1,0.4);
	
	\draw[latex'-latex', color=black]
	(1.6,-0.85) -- (1.6,0.85)
	node[right,pos=0.8]{\cm{5}}
	;
	\draw[color=gray, dotted](0,-0.85) -- (1.65,-0.85);
	\draw[color=gray, dotted](0,0.85) -- (1.65,0.85);

	
\tkzX[orig, noticks, label=$z$]%, lw=1pt

\end{tikzpicture}

\end{document}