\documentclass[11pt, a4paper, french]{thloria}%{article}
\input{../../Packages_Gael}

%%% Pour n'avoir que l'image tikz ! ! !
\usepackage[active,tightpage]{preview}\PreviewEnvironment{tikzpicture} 

\usepackage[np,autolanguage]{numprint}
\begin{document}
\pagestyle{empty}
\input{../../New_Commande_Gael}

\def\eps{0.1}
\def\zmax{5}
\def\vmax{1.6}
\def\vzero{1.5}
\def\deltav{0.3}
\def\deltaz{0.1}
\def\Dpat{1}
\def\Npat{5}
\pgfmathparse{2*\deltaz/\Dpat}
\let\ratio\pgfmathresult

\pgfmathparse{-\vmax-0.5}
\let\offsetvert\pgfmathresult

\footnotesize

\begin{tikzpicture}[scale=1]

\tkzInit[xmin=0,xmax=\zmax,ymin=0,ymax=\vmax]
\tkzX[label=$z$, orig, noticks]%, poslabel=-2.5ex]
\tkzY[label=$\vz$, noticks]

\foreach \dd in {0,\Dpat,...,\zmax}
{
\path[fill=blue] 
(\dd,\vzero)
++(-\deltaz,-\deltav)
--++(0,2*\deltav)
--++(2*\deltaz,0) 
--++(0,-2*\deltav)
--cycle;
}
\draw[latex'-latex'](\Dpat, \vzero-\deltav-\eps)--++(\Dpat,0)node[below, pos=0.5]{$\distpat$};


\draw[snake=brace, segment amplitude=0.051cm]%] 
(-\deltaz-\eps,\vzero-\deltav) -- (-\deltaz-\eps,\vzero+\deltav)
node[left, pos=0.5]{ $\DeltaVPaquet$};

\draw[snake=brace, segment amplitude=0.051cm]%] 
(+\deltaz,\vzero-\deltav-\eps) -- (-\deltaz,\vzero-\deltav-\eps)
node[below left, pos=0.5]{ $\DeltaZPaquet$};

%\end{tikzpicture}
%\begin{tikzpicture}[scale=1, thick]
%
%\tkzInit[xmin=0,xmax=\zmax,ymin=0+\offsetvert,ymax=\vmax+\offsetvert]
%\tkzX[label=$z$, orig, noticks, poslabel=-2.5ex]
%\tkzY[label=$\vz$, noticks]
%
%\foreach \dd in {0,\Dpat,...,\zmax}
%{
%\draw[fill=green!60] 
%(\dd,\vzero+\offsetvert)
%++(-\deltaz,-\deltav)
%--++(0,2*\deltav)
%--++(2*\deltaz,0) 
%--++(0,-2*\deltav)
%--cycle;
%}
%
%
\end{tikzpicture}

\end{document}